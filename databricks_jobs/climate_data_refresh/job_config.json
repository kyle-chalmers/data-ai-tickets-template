{
  "name": "Climate Data Monthly Refresh - Arizona",
  "description": "Fetches monthly weather data from Open-Meteo API for Arizona cities and stores in Delta table",
  "tags": {
    "team": "data-engineering",
    "data_source": "open-meteo",
    "frequency": "monthly",
    "demo": "az-ai-meetup"
  },
  "schedule": {
    "quartz_cron_expression": "0 0 6 3 * ?",
    "timezone_id": "America/Phoenix",
    "pause_status": "UNPAUSED"
  },
  "tasks": [
    {
      "task_key": "climate_data_refresh",
      "description": "Fetch and aggregate monthly climate data for Arizona cities",
      "python_wheel_task": null,
      "notebook_task": null,
      "spark_python_task": {
        "python_file": "dbfs:/jobs/climate_data_refresh/climate_refresh.py",
        "parameters": []
      },
      "new_cluster": {
        "spark_version": "14.3.x-scala2.12",
        "node_type_id": "i3.xlarge",
        "num_workers": 0,
        "spark_conf": {
          "spark.databricks.delta.preview.enabled": "true"
        },
        "aws_attributes": {
          "first_on_demand": 1,
          "availability": "SPOT_WITH_FALLBACK",
          "zone_id": "auto",
          "spot_bid_price_percent": 100
        }
      },
      "timeout_seconds": 3600,
      "max_retries": 2,
      "min_retry_interval_millis": 60000,
      "retry_on_timeout": true
    }
  ],
  "email_notifications": {
    "on_failure": [],
    "on_success": [],
    "no_alert_for_skipped_runs": true
  },
  "webhook_notifications": {},
  "notification_settings": {
    "no_alert_for_skipped_runs": true,
    "no_alert_for_canceled_runs": false
  },
  "max_concurrent_runs": 1,
  "format": "MULTI_TASK",
  "queue": {
    "enabled": true
  },
  "run_as": {
    "user_name": null
  },
  "access_control_list": [
    {
      "group_name": "users",
      "permission_level": "CAN_VIEW"
    }
  ]
}
